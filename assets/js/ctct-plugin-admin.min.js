window.CTCTBuilder={},function(t,e,n){n.init=function(){e("#cmb2-metabox-ctct_2_fields_metabox option[value='email']:selected").length&&e("#ctct-no-email-error").remove(),n.cache(),n.bindEvents(),n.selectBinds(),n.modifyFields(),e("#ctct_0_description_metabox h2.hndle").removeClass("ui-sortable-handle, hndle"),e("head").append('<style> #cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+ctct_texts.move_up+'" } #cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+ctct_texts.move_down+'" }</style>')},n.cache=function(){n.$c={window:e(t),body:e("body")},n.isLeaveWarningBound=!1},n.bindLeaveWarning=function(){n.isLeaveWarningBound||(e(t).bind("beforeunload",function(){return ctct_texts.leavewarning}),n.isLeaveWarningBound=!0)},n.unbindLeaveWarning=function(){e(t).unbind("beforeunload")},n.bindEvents=function(){e("#post").submit(function(){e(".ctct-email-disabled").removeClass("disabled").prop("disabled",!1),n.unbindLeaveWarning()}),e(".cmb2-wrap input, .cmb2-wrap textarea").on("input",function(){n.bindLeaveWarning()}),e(document).on("cmb2_shift_rows_complete",function(){n.modifyFields(),n.bindLeaveWarning(),n.removeDuplicateMappings()}),e(document).on("cmb2_add_row",function(t){e("#custom_fields_group_repeat .postbox").last().find(".map select").val("custom"),n.modifyFields(),n.selectBinds(),n.removeDuplicateMappings()}),n.removeDuplicateMappings()},n.selectBinds=function(){e("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select").change(function(){n.modifyFields(),n.removeDuplicateMappings(),n.bindLeaveWarning()})},n.modifyFields=function(){var n=!1;e("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping").each(function(c,i){var o=e(this).find(".cmb-field-list"),d=e(o).find(".cmb-remove-group-row"),a=e(o).find(".required input[type=checkbox]"),l=a.closest(".cmb-row"),s=e(o).find(".map select option:selected"),m=s.text(),r=e(this).find("h3"),u=e(this).find("input[name*='_ctct_field_label']"),_=e(this).find("input[name*='_ctct_field_desc']");if(r.text(m),(0===u.val().length||u.hasClass("ctct-label-filled"))&&u.val(m).addClass("ctct-label-filled"),n||"email"!==e(s).val()?(e(i).find("select").removeClass("disabled ctct-email-disabled").prop("disabled",!1),l.show(),d.show()):(n=!0,a.prop("checked",!0),e(i).find("select").addClass("disabled ctct-email-disabled").prop("disabled",!0),l.hide(),d.hide()),t.ctct_admin_placeholders){var p=t.ctct_admin_placeholders[e(i).find("select").val()];p&&p.length&&_.length?_.attr("placeholder","Example: "+p):t.ctct_admin_placeholders["default"]&&_.attr("placeholder",t.ctct_admin_placeholders["default"])}})},n.removeDuplicateMappings=function(){var t=[],n="#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select",c=e(n);c.each(function(n,c){t.push(e(c).val())}),c.children().show(),t.forEach(function(t){"custom_text_area"!=t&&"custom"!=t&&e(n+" option[value="+t+"]:not( :selected )").hide()})},e(n.init)}(window,jQuery,window.CTCTBuilder),window.CTCTForms={},function(t,e,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={window:e(t),body:e("body"),disconnect:".ctct-disconnect"}},n.bindEvents=function(){e(n.$c.disconnect).on("click",function(t){confirm(ctct_texts.disconnectconfirm)})},e(n.init)}(window,jQuery,window.CTCTForms),window.CTCTModal={},function(t,e,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={window:e(t),modalSelector:e(".ctct-modal"),modalClose:e(".ctct-modal-close")}},n.bindEvents=function(){n.$c.modalClose.click(function(){n.$c.modalSelector.removeClass("ctct-modal-open"),jQuery.ajax({type:"post",dataType:"json",url:ajaxurl,data:{action:"ctct_dismiss_first_modal",ctct_is_dismissed:"true"}})})},e(n.init)}(window,jQuery,window.CTCTModal),window.CTCT_OptIns={},function(t,e,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={optin_no_conn:e("#cmb2-metabox-ctct_1_optin_metabox #_ctct_opt_in_not_connected"),list:e("#cmb2-metabox-ctct_1_optin_metabox #_ctct_list"),optin:e("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in"),instruct:e("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in-instructions")}},n.bindEvents=function(){n.$c.optin_no_conn.length&&(n.toggleNoConnectionFields(),n.$c.optin_no_conn.change(function(){n.toggleNoConnectionFields()})),n.$c.list.length&&(n.toggleConnectionFields(),n.$c.list.change(function(){n.toggleConnectionFields()}))},n.toggleNoConnectionFields=function(){n.$c.optin_no_conn.prop("checked")?n.$c.instruct.slideDown():n.$c.instruct.slideUp()},n.toggleConnectionFields=function(){""!=n.$c.list.val()?(n.$c.optin.slideDown(),n.$c.instruct.slideDown()):(n.$c.optin.slideUp(),n.$c.instruct.slideUp())},e(n.init)}(window,jQuery,window.CTCT_OptIns);