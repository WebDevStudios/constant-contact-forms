window.CTCTBuilder={},function(n,e,i){i.init=function(){i.cache(),i.bindEvents()},i.cache=function(){i.$c={window:e(n),body:e("body"),hide:".cmb2-id--ctct-new-list"},i.isLeaveWarningBound=!1},i.bindLeaveWarning=function(){i.isLeaveWarningBound||(e(n).bind("beforeunload",function(){return ctct_texts.leavewarning}),i.isLeaveWarningBound=!0)},i.unbindLeaveWarning=function(){e(n).unbind("beforeunload")},i.bindEvents=function(){e("#post").submit(function(){e(".ctct-email-disabled").removeClass("disabled").prop("disabled",!1),i.unbindLeaveWarning()}),e(".cmb2-wrap input, .cmb2-wrap textarea").on("input",function(){i.bindLeaveWarning()}),e(document).on("cmb2_shift_rows_complete",function(){i.modifyFields(),i.bindLeaveWarning()}),e(document).on("cmb2_add_row",function(n){e("#custom_fields_group_repeat .postbox").last().find(".map select").val("custom"),i.modifyFields(),i.selectBinds()}),i.modifyFields(),i.selectBinds(),i.removeDuplicateMappings(),e("#ctct_description_metabox h2.hndle").removeClass("ui-sortable-handle, hndle")},i.selectBinds=function(){e(".cmb2_select").change(function(){i.modifyFields(),i.removeDuplicateMappings(),i.bindLeaveWarning()})},i.modifyFields=function(){var n=!1;e("#cmb2-metabox-ctct_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping").each(function(i,t){var o=e(this).find(".cmb-field-list"),c=e(o).find(".cmb-remove-group-row"),d=e(o).find(".required input[type=checkbox]"),a=d.closest(".cmb-row"),l=e(o).find(".map select option:selected"),s=l.text(),u=e(this).find("h3"),r=e(this).find("input[name*='_ctct_field_label']");u.text(s),(0===r.val().length||r.hasClass("ctct-label-filled"))&&r.val(s).addClass("ctct-label-filled"),n||"email"!==e(l).val()?(e(t).find("select").removeClass("disabled ctct-email-disabled").prop("disabled",!1),a.show(),c.show()):(n=!0,d.prop("checked",!0),e(t).find("select").addClass("disabled ctct-email-disabled").prop("disabled",!0),a.hide(),c.hide())})},i.removeDuplicateMappings=function(){var n=[],i="#cmb2-metabox-ctct_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select";e(i).each(function(i,t){n.push(e(t).val())}),n.forEach(function(n){"custom_text_area"!=n&&"custom"!=n&&e(i+" option[value="+n+"]:not( :selected )").remove()})},e(i.init)}(window,jQuery,window.CTCTBuilder),window.CTCTModal={},function(n,e,i){i.init=function(){i.cache(),i.bindEvents()},i.cache=function(){i.$c={window:e(n),modalSelector:e(".modal"),modalClose:e(".modal-close")}},i.bindEvents=function(){i.$c.modalClose.click(function(){i.$c.modalSelector.removeClass("modal-open")})},e(i.init)}(window,jQuery,window.CTCTModal),$("#_ctct_opt_in").change(function(){that.toggleOptInFields()}),that.toggleOptInFields=function(){_ctct_list},window.CTCT_OptIns={},function(n,e,i){i.init=function(){i.cache(),i.bindEvents()},i.cache=function(){i.$c={window:e(n),modalSelector:e(".modal"),modalClose:e(".modal-close")}},i.bindEvents=function(){i.$c.modalClose.click(function(){i.$c.modalSelector.removeClass("modal-open")})},e(i.init)}(window,jQuery,window.CTCT_OptIns),window.CTCTSupport={},function(n,e,i){i.init=function(){i.cache(),i.bindEvents()},i.cache=function(){i.$c={window:e(n),body:e("body"),hide:".answer"}},i.bindEvents=function(){e(i.$c.hide).hide(),e(".question").on("click",function(n){i.metaShowHide(e(this).next(".answer"))})},i.metaShowHide=function(n){var t=e(i.$c.hide).not(n);n.slideDown("fast"),t.hide()},e(i.init)}(window,jQuery,window.CTCTSupport),window.CTCTForms={},function(n,e,i){i.init=function(){i.cache(),i.bindEvents()},i.cache=function(){i.$c={window:e(n),body:e("body"),disconnect:".ctct-disconnect"}},i.bindEvents=function(){e(i.$c.disconnect).on("click",function(n){confirm(ctct_texts.disconnectconfirm)})},e(i.init)}(window,jQuery,window.CTCTForms);