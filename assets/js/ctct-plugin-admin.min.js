window.CTCTBuilder={},function(n,e,t){t.init=function(){t.cache(),t.bindEvents(),t.selectBinds(),t.modifyFields(),e("#ctct_0_description_metabox h2.hndle").removeClass("ui-sortable-handle, hndle"),e("head").append('<style> #cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+ctct_texts.move_up+'" } #cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+ctct_texts.move_down+'" }</style>')},t.cache=function(){t.$c={window:e(n),body:e("body")},t.isLeaveWarningBound=!1},t.bindLeaveWarning=function(){t.isLeaveWarningBound||(e(n).bind("beforeunload",function(){return ctct_texts.leavewarning}),t.isLeaveWarningBound=!0)},t.unbindLeaveWarning=function(){e(n).unbind("beforeunload")},t.bindEvents=function(){e("#post").submit(function(){e(".ctct-email-disabled").removeClass("disabled").prop("disabled",!1),t.unbindLeaveWarning()}),e(".cmb2-wrap input, .cmb2-wrap textarea").on("input",function(){t.bindLeaveWarning()}),e(document).on("cmb2_shift_rows_complete",function(){t.modifyFields(),t.bindLeaveWarning()}),e(document).on("cmb2_add_row",function(n){e("#custom_fields_group_repeat .postbox").last().find(".map select").val("custom"),t.modifyFields(),t.selectBinds(),t.removeDuplicateMappings()}),t.removeDuplicateMappings()},t.selectBinds=function(){e("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select").change(function(){t.modifyFields(),t.removeDuplicateMappings(),t.bindLeaveWarning()})},t.modifyFields=function(){var n=!1;e("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping").each(function(t,i){var c=e(this).find(".cmb-field-list"),o=e(c).find(".cmb-remove-group-row"),d=e(c).find(".required input[type=checkbox]"),a=d.closest(".cmb-row"),s=e(c).find(".map select option:selected"),l=s.text(),u=e(this).find("h3"),m=e(this).find("input[name*='_ctct_field_label']");u.text(l),(0===m.val().length||m.hasClass("ctct-label-filled"))&&m.val(l).addClass("ctct-label-filled"),n||"email"!==e(s).val()?(e(i).find("select").removeClass("disabled ctct-email-disabled").prop("disabled",!1),a.show(),o.show()):(n=!0,d.prop("checked",!0),e(i).find("select").addClass("disabled ctct-email-disabled").prop("disabled",!0),a.hide(),o.hide())})},t.removeDuplicateMappings=function(){var n=[],t="#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select";e(t).each(function(t,i){n.push(e(i).val())}),n.forEach(function(n){"custom_text_area"!=(n&&"custom"!=n)&&e(t+" option[value="+n+"]:not( :selected )").remove()})},e(t.init)}(window,jQuery,window.CTCTBuilder),window.CTCTForms={},function(n,e,t){t.init=function(){t.cache(),t.bindEvents()},t.cache=function(){t.$c={window:e(n),body:e("body"),disconnect:".ctct-disconnect"}},t.bindEvents=function(){e(t.$c.disconnect).on("click",function(n){confirm(ctct_texts.disconnectconfirm)})},e(t.init)}(window,jQuery,window.CTCTForms),window.CTCTModal={},function(n,e,t){t.init=function(){t.cache(),t.bindEvents()},t.cache=function(){t.$c={window:e(n),modalSelector:e(".ctct-modal"),modalClose:e(".ctct-modal-close")}},t.bindEvents=function(){t.$c.modalClose.click(function(){t.$c.modalSelector.removeClass("ctct-modal-open")})},e(t.init)}(window,jQuery,window.CTCTModal),window.CTCT_OptIns={},function(n,e,t){t.init=function(){t.cache(),t.bindEvents(),t.toggleOptInFields()},t.cache=function(){t.$c={optin:e("#_ctct_opt_in"),optin_no_conn:e("#_ctct_opt_in_not_connected"),list:e(".cmb2-id--ctct-list"),instruct:e(".cmb2-id--ctct-opt-in-instructions")}},t.bindEvents=function(){t.$c.optin_no_conn.change(function(){t.toggleOptInFields()})},t.toggleOptInFields=function(){console.log(t.$c.optin_no_conn),t.$c.optin_no_conn.length&&(t.$c.optin_no_conn.prop("checked")?t.$c.instruct.slideDown():t.$c.instruct.slideUp())},e(t.init)}(window,jQuery,window.CTCT_OptIns);