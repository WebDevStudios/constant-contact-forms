window.CTCTBuilder={},function(i,e,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={window:e(i),body:e("body"),hide:".cmb2-id--ctct-new-list"},n.$c.optinfields={list:e(".cmb2-id--ctct-list"),"default":e(".cmb2-id--ctct-opt-in-default"),hide:e(".cmb2-id--ctct-opt-in-hide"),instruct:e(".cmb2-id--ctct-opt-in-instructions")},n.isLeaveWarningBound=!1},n.bindLeaveWarning=function(){n.isLeaveWarningBound||(e(i).bind("beforeunload",function(){return ctct_texts.leavewarning}),n.isLeaveWarningBound=!0)},n.unbindLeaveWarning=function(){e(i).unbind("beforeunload")},n.bindEvents=function(){e("#post").submit(function(){e(".ctct-email-disabled").removeClass("disabled").prop("disabled",!1),n.unbindLeaveWarning()}),e(".cmb2-wrap input, .cmb2-wrap textarea").on("input",function(){n.bindLeaveWarning()}),e(document).on("cmb2_shift_rows_complete",function(){n.modifyFields(),n.bindLeaveWarning()}),e(document).on("cmb2_add_row",function(i){e("#custom_fields_group_repeat .postbox").last().find(".map select").val("custom"),n.modifyFields(),n.selectBinds()}),e("#_ctct_opt_in").change(function(){n.toggleOptInFields()}),n.modifyFields(),n.toggleOptInFields(),n.selectBinds(),n.removeDuplicateMappings(),e("#ctct_description_metabox h2.hndle").removeClass("ui-sortable-handle, hndle")},n.selectBinds=function(){e(".cmb2_select").change(function(){n.modifyFields(),n.removeDuplicateMappings(),n.bindLeaveWarning()})},n.toggleOptInFields=function(){e("#_ctct_opt_in").prop("checked")?(n.$c.optinfields.list.show(),n.$c.optinfields["default"].show(),n.$c.optinfields.hide.show(),n.$c.optinfields.instruct.show()):(n.$c.optinfields.list.hide(),n.$c.optinfields["default"].hide(),n.$c.optinfields.hide.hide(),n.$c.optinfields.instruct.hide())},n.modifyFields=function(){var i=!1;e("#cmb2-metabox-ctct_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping").each(function(n,t){var c=e(this).find(".cmb-field-list"),o=e(c).find(".cmb-remove-group-row"),d=e(c).find(".required input[type=checkbox]"),s=d.closest(".cmb-row"),a=e(c).find(".map select option:selected"),l=a.text(),u=e(this).find("h3"),f=e(this).find("input[name*='_ctct_field_label']");u.text(l),(0===f.val().length||f.hasClass("ctct-label-filled"))&&f.val(l).addClass("ctct-label-filled"),i||"email"!==e(a).val()?(e(t).find("select").removeClass("disabled ctct-email-disabled").prop("disabled",!1),s.show(),o.show()):(i=!0,d.prop("checked",!0),e(t).find("select").addClass("disabled ctct-email-disabled").prop("disabled",!0),s.hide(),o.hide())})},n.removeDuplicateMappings=function(){var i=[],n="#cmb2-metabox-ctct_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select";e(n).each(function(n,t){i.push(e(t).val())}),i.forEach(function(i){"custom_text_area"!=i&&"custom"!=i&&e(n+" option[value="+i+"]:not( :selected )").remove()})},e(n.init)}(window,jQuery,window.CTCTBuilder),window.Modal_Object={},function(i,e,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={window:e(i),modalSelector:e(".modal"),modalClose:e(".modal-close")}},n.bindEvents=function(){n.$c.modalClose.click(function(){n.$c.modalSelector.removeClass("modal-open")})},e(n.init)}(window,jQuery,window.Modal_Object),window.CTCTSupport={},function(i,e,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={window:e(i),body:e("body"),hide:".answer"}},n.bindEvents=function(){e(n.$c.hide).hide(),e(".question").on("click",function(i){n.metaShowHide(e(this).next(".answer"))})},n.metaShowHide=function(i){var t=e(n.$c.hide).not(i);i.slideDown("fast"),t.hide()},e(n.init)}(window,jQuery,window.CTCTSupport),window.CTCTForms={},function(i,e,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={window:e(i),body:e("body"),disconnect:".ctct-disconnect"}},n.bindEvents=function(){e(n.$c.disconnect).on("click",function(i){confirm(ctct_texts.disconnectconfirm)})},e(n.init)}(window,jQuery,window.CTCTForms);