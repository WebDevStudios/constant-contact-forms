/*! For license information please see ctct-plugin-admin.min.js.LICENSE.txt */
!function(){var e={108:function(){window.CTCTAJAX={},function(e,t){t.init=function(){t.handleReviewAJAX()},t.handleReviewAJAX=function(){var t=document.querySelector("#ctct-admin-notice-review_request");t&&t.addEventListener("click",function(n){var c;n.preventDefault(),n.target.matches("button.notice-dismiss")?c="dismissed":n.target.matches(".ctct-review")&&(c="reviewed");var o=new FormData;o.append("action","constant_contact_review_ajax_handler"),o.append("ctct_review_action",c),t.dataset.nonce&&o.append("ctct_nonce",t.dataset.nonce),fetch(e.ajaxurl,options={method:"POST",body:o}).then(function(e){return e.json()}).then(function(e){e.success&&(t.style.display="none")}).catch(function(e){console.log(e)})})},t.init()}(window,window.CTCTAJAX)},199:function(){var e;window.CTCTRequiredLists={},window,(e=window.CTCTRequiredLists).init=function(){e.cache(),e.bindEvents()},e.cache=function(){var t;e.cache={publishButton:null!==(t=document.querySelector("#publish"))&&void 0!==t?t:"",status:ctct_admin_required_lists,noListMessage:ctctTexts.no_selected_list}},e.bindEvents=function(){e.cache.publishButton&&e.cache.publishButton.addEventListener("click",function(t){e.maybeAlert()&&(t.preventDefault(),alert(e.cache.noListMessage))})},e.maybeAlert=function(){var t=!1;return e.cache.status.is_connected?((e.currentFormEmailDisabled()||e.cache.status.settings_email_disabled)&&!1===e.hasLists()&&(t=!0),!0===e.hasLists()&&(t=!1),t):t},e.currentFormEmailDisabled=function(){return document.querySelector("#_ctct_disable_emails_for_form").checked},e.hasLists=function(){return document.querySelectorAll("#cmb2-metabox-ctct_0_list_metabox .attached-posts-wrap .attached li").length>0},e.init()},201:function(){var e;window.CTCT_OptIns={},window,(e=window.CTCT_OptIns).init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.cache={optinNoConn:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox #_ctct_opt_in_not_connected"),list:document.querySelectorAll("#cmb2-metabox-ctct_0_list_metabox .attached-posts-wrap .retrieved li"),title:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id-email-optin-title"),optin:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in"),instruct:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in-instructions")}},e.bindEvents=function(){e.cache.optinNoConn.length?(e.toggleNoConnectionFields(),Array.from(e.cache.optinNoConn).forEach(function(t){t.addEventListener("change",function(){e.toggleNoConnectionFields()})})):(e.toggleConnectionFields(),Array.from(e.cache.list).forEach(function(t){t.addEventListener("change",function(){e.toggleConnectionFields()})}))},e.toggleNoConnectionFields=function(){e.cache.optinNoConn.checked?Array.from(e.cache.instruct).forEach(function(e){e.style.display="block"}):Array.from(e.cache.instruct).forEach(function(e){e.style.display="none"})},e.toggleConnectionFields=function(){0<e.cache.list.length?(Array.from(e.cache.title).forEach(function(e){e.style.display="block"}),Array.from(e.cache.optin).forEach(function(e){e.style.display="block"}),Array.from(e.cache.instruct).forEach(function(e){e.style.display="block"})):(Array.from(e.cache.title).forEach(function(e){e.style.display="none"}),Array.from(e.cache.optin).forEach(function(e){e.style.display="none"}),Array.from(e.cache.instruct).forEach(function(e){e.style.display="none"}))},e.init()},267:function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var c={}.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=Array(t);n<t;n++)c[n]=e[n];return c}window.CTCTBuilder={},function(t,n,c){var o;c.init=function(){var e=document.querySelectorAll('#cmb2-metabox-ctct_2_fields_metabox option[value="email"]');if(Array.from(e).filter(function(e){return e.selected}).length){var n=document.querySelector("#ctct-no-email-error");n&&(n.style.display="none")}c.cache(),c.bindEvents(),c.selectBinds(),c.modifyFields();var o=document.querySelectorAll("#ctct_0_description_metabox h2.hndle");o&&Array.from(o).forEach(function(e){e.classList.remove("ui-sortable-handle","hndle")});var r=document.querySelector("head"),i=document.createElement("style");i.textContent='#cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+t.ctctTexts.move_up+'" }',i.textContent+='#cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+t.ctctTexts.move_down+'" }',r.appendChild(i)},c.cache=function(){c.cache={window:t,body:document.querySelector("body")},c.isLeaveWarningBound=!1},c.bindLeaveWarning=function(){c.isLeaveWarningBound||(c.cache.window.addEventListener("beforeunload",c.bindMessage),c.isLeaveWarningBound=!0)},c.unbindLeaveWarning=function(){c.cache.window.removeEventListener("beforeunload",c.bindMessage)},c.bindMessage=function(e){e.preventDefault(),e.returnValue=""},c.bindEvents=function(){document.querySelector("#post")&&document.addEventListener("submit",function(){var e=document.querySelectorAll(".ctct-email-disabled");e&&Array.from(e).forEach(function(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}),c.unbindLeaveWarning()});var r=document.querySelectorAll(".cmb2-wrap input, .cmb2-wrap textarea");Array.from(r).forEach(function(e){e.addEventListener("input",function(){"undefined"!=typeof tinyMCE&&c.bindLeaveWarning()})}),n(document).on("cmb2_shift_rows_complete",function(){c.modifyFields(),c.bindLeaveWarning(),c.removeDuplicateMappings()}),n(document).on("cmb2_add_row",function(t){var n=document.querySelectorAll("#custom_fields_group_repeat .postbox");if(n){var o=e(n).pop().querySelector(".map select");o&&(o.value="none")}c.modifyFields(),c.selectBinds(),c.removeDuplicateMappings()}),c.removeDuplicateMappings();var i=document.querySelector("#ctct-reset-css");i&&i.addEventListener("click",function(e){e.preventDefault(),["#_ctct_form_description_font_size","#_ctct_form_submit_button_font_size","#_ctct_form_label_placement"].forEach(function(e){var t=document.querySelector(e);t&&(t.selectedIndex=0)}),["#_ctct_form_padding_top","#_ctct_form_padding_bottom","#_ctct_form_padding_left","#_ctct_form_padding_right","#_ctct_input_custom_classes"].forEach(function(e){var t=document.querySelector(e);t&&(t.value="")});var t=document.querySelectorAll(".wp-picker-clear");t&&Array.from(t).forEach(function(e){e.click()})}),t.addEventListener("load",function(){var e=document.querySelector("#address_settings");if(e){var t=e.querySelectorAll('.cmb2-id--ctct-address-fields-include input[type="checkbox"]'),n=e.querySelectorAll('.cmb2-id--ctct-address-fields-include input[type="checkbox"]:checked');o=e.querySelectorAll('.cmb2-id--ctct-address-fields-require input[type="checkbox"]'),0===n.length&&Array.from(o).forEach(function(e){e.setAttribute("disabled",!0)}),Array.from(t).forEach(function(e){e.addEventListener("change",c.addressChange)})}})},c.addressChange=function(e){var t=e.target;t.checked?Array.from(o).forEach(function(e){t.value===e.value&&e.removeAttribute("disabled")}):Array.from(o).forEach(function(e){t.value===e.value&&(e.checked=!1,e.setAttribute("disabled",!0))})},c.selectBinds=function(){var e=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select");e&&Array.from(e).forEach(function(e){e.addEventListener("change",function(){c.modifyFields(),c.removeDuplicateMappings(),c.bindLeaveWarning();var e=document.querySelectorAll(".form-field-is-custom-field");e&&Array.from(e).forEach(function(e){e.addEventListener("keyup",c.noUniqueWarning)})})})},c.validateUniqueFieldLabels=function(){var e,t=document.querySelectorAll(".form-field-is-custom-field");return t&&(e=Array.from(t).map(function(e){return e.value})),e.length===e.filter(function(t,n){return e.indexOf(t)===n}).length},c.noUniqueWarning=function(t){var n=e(t.currentTarget.parentElement.children);0!==n.length&&(c.validateUniqueFieldLabels()?n.forEach(function(e){e.classList.contains("ctct-warning")&&e.classList.remove("ctct-warning-no-unqiue")}):n.forEach(function(e){e.classList.contains("ctct-warning")&&e.classList.add("ctct-warning-no-unqiue")}))},c.modifyFields=function(){var e=!1,t=1,n=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping");n&&Array.from(n).forEach(function(n,c){var o=n.querySelector(".cmb-field-list"),r=o.querySelector(".cmb-remove-group-row"),i=o.querySelector(".required input[type=checkbox]"),a=i.closest(".cmb-row"),l=o.querySelector(".map select option:checked"),u="";l&&l.text&&(u=l.text);var d=n.querySelector("h3"),s=n.querySelector('input[name*="_ctct_field_label"]'),f=n.querySelector('input[name*="_ctct_field_desc"]');"Custom Text Field"===u&&(u+=" "+t.toString(),t++),d.innerText=u,u&&0===s.value.length&&(s.value=u),s.classList.add("ctct-label-filled");var m=n.querySelector("select");if(e||null===l?(m&&(m.classList.remove("disabled","ctct-email-disabled"),m.disabled=!1),a.style.display="block",r.style.display="block",null!==l&&("custom"===l.value?s.classList.add("form-field-is-custom-field"):s.classList.remove("form-field-is-custom-field"))):"email"===l.value&&(e=!0,i.checked=!0,m&&(m.classList.add("disabled","ctct-email-disabled"),m.disabled=!0),a.style.display="none",r.style.display="none"),ctct_admin_placeholders){var p=ctct_admin_placeholders[m.value];p&&p.length&&f?f.setAttribute("placeholder","Example: "+p):ctct_admin_placeholders.default&&f.setAttribute("placeholder",ctct_admin_placeholders.default)}})},c.removeDuplicateMappings=function(){var e=[],t=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select");Array.from(t).forEach(function(t,n){e.push(t.value),Array.from(t.options).forEach(function(e){e.style.display="inline"})}),e.forEach(function(e){"custom"!==e&&"custom_text_area"!==e&&Array.from(t).forEach(function(t){Array.from(t.options).forEach(function(t){t.value===e&&!0!==t.selected&&(t.style.display="none")})})})},c.init()}(window,jQuery,window.CTCTBuilder)},526:function(){function e(){var n,c,o="function"==typeof Symbol?Symbol:{},r=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function a(e,o,r,i){var a=o&&o.prototype instanceof u?o:u,d=Object.create(a.prototype);return t(d,"_invoke",function(e,t,o){var r,i,a,u=0,d=o||[],s=!1,f={p:0,n:0,v:n,a:m,f:m.bind(n,4),d:function(e,t){return r=e,i=0,a=n,f.n=t,l}};function m(e,t){for(i=e,a=t,c=0;!s&&u&&!o&&c<d.length;c++){var o,r=d[c],m=f.p,p=r[2];e>3?(o=p===t)&&(a=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=n):r[0]<=m&&((o=e<2&&m<r[1])?(i=0,f.v=t,f.n=r[1]):m<p&&(o=e<3||r[0]>t||t>p)&&(r[4]=e,r[5]=t,f.n=p,i=0))}if(o||e>1)return l;throw s=!0,t}return function(o,d,p){if(u>1)throw TypeError("Generator is already running");for(s&&1===d&&m(d,p),i=d,a=p;(c=i<2?n:a)||!s;){r||(i?i<3?(i>1&&(f.n=-1),m(i,a)):f.n=a:f.v=a);try{if(u=2,r){if(i||(o="next"),c=r[o]){if(!(c=c.call(r,a)))throw TypeError("iterator result is not an object");if(!c.done)return c;a=c.value,i<2&&(i=0)}else 1===i&&(c=r.return)&&c.call(r),i<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),i=1);r=n}else if((c=(s=f.n<0)?a:e.call(t,f))!==l)break}catch(e){r=n,i=1,a=e}finally{u=1}}return{value:c,done:s}}}(e,r,i),!0),d}var l={};function u(){}function d(){}function s(){}c=Object.getPrototypeOf;var f=[][r]?c(c([][r]())):(t(c={},r,function(){return this}),c),m=s.prototype=u.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,t(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return d.prototype=s,t(m,"constructor",s),t(s,"constructor",d),d.displayName="GeneratorFunction",t(s,i,"GeneratorFunction"),t(m),t(m,i,"Generator"),t(m,r,function(){return this}),t(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:a,m:p}})()}function t(e,n,c,o){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}t=function(e,n,c,o){if(n)r?r(e,n,{value:c,enumerable:!o,configurable:!o,writable:!o}):e[n]=c;else{var i=function(n,c){t(e,n,function(e){return this._invoke(n,c,e)})};i("next",0),i("throw",1),i("return",2)}},t(e,n,c,o)}function n(e,t,n,c,o,r,i){try{var a=e[r](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(c,o)}window.CTCTClipboard={},function(t,c){c.init=function(){c.cache(),c.bindEvents()},c.cache=function(){c.cache={window:t,copyshortcode:document.querySelectorAll(".ctct-shortcode-wrap")}},c.bindEvents=function(){c.cache.copyshortcode&&Array.from(c.cache.copyshortcode).forEach(function(c){var o=c.querySelector("input"),r=c.querySelector("button");o&&r&&r.addEventListener("click",function(){var c,i=(c=e().m(function n(c){var i,a,l;return e().w(function(e){for(;;)switch(e.n){case 0:if(t.isSecureContext&&navigator.clipboard){e.n=1;break}return e.a(2);case 1:return c.preventDefault(),o.select(),o.setSelectionRange(0,99999),i=o.value,e.p=2,e.n=3,navigator.clipboard.writeText(i);case 3:a=r.innerHTML,c.target.textContent=r.dataset.copied,setTimeout(function(){c.target.textContent=a},700),e.n=5;break;case 4:e.p=4,l=e.v,console.error("Failed to copy!",l);case 5:return e.a(2)}},n,null,[[2,4]])}),function(){var e=this,t=arguments;return new Promise(function(o,r){var i=c.apply(e,t);function a(e){n(i,o,r,a,l,"next",e)}function l(e){n(i,o,r,a,l,"throw",e)}a(void 0)})});return function(e){return i.apply(this,arguments)}}())})},c.init()}(window,window.CTCTClipboard)},679:function(){window.CTCTForms={},function(e,t){t.init=function(){t.cache(),t.bindEvents()},t.cache=function(){t.cache={window:e,disconnect:".ctct-disconnect"}},t.bindEvents=function(){var n=document.querySelectorAll(t.cache.disconnect);n&&Array.from(n).forEach(function(t){t.addEventListener("click",function(){return confirm(e.ctctTexts.disconnectconfirm)})})},t.init()}(window,window.CTCTForms)},865:function(){!function(e){e.addEventListener("load",function(){var t=document.querySelector("#ctct-feedback-modal"),n=document.querySelector("#ctct-feedback-close-btn"),c=document.querySelector("#ctct-feedback-cancel"),o=document.querySelector("#deactivate-constant-contact-forms"),r=document.querySelector("#ctct-feedback-modal-skip-deactivate");o&&o.addEventListener("click",function(n){n.preventDefault(),e.ctctDeactivationLink=n.target.href,r.setAttribute("href",e.ctctDeactivationLink),t.style.display="block"}),n&&n.addEventListener("click",function(e){e.preventDefault(),t.style.display="none"}),c&&c.addEventListener("click",function(e){e.preventDefault(),t.style.display="none"}),e.addEventListener("click",function(e){e.target===t&&(t.style.display="none")})})}(window)},965:function(){window.CTCTModal={},function(e,t,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.cache={window:e,notConnectedModalSelector:document.querySelector("#ctct-not-connected-modal"),notConnectedModalClose:document.querySelector("#ctct-not-connected-modal .ctct-modal-close"),textareaModal:document.querySelector("#ctct-custom-textarea-modal"),textareaLink:document.querySelector("#ctct-open-textarea-info"),textareaModalClose:document.querySelector("#ctct-custom-textarea-modal .ctct-modal-close"),deleteLogLink:document.querySelector("#deletelog")}},n.bindEvents=function(){n.cache.notConnectedModalClose&&n.cache.notConnectedModalClose.addEventListener("click",function(t){t.preventDefault(),n.cache.notConnectedModalSelector.classList.remove("ctct-modal-open");var c=new FormData;c.append("action","ctct_dismiss_first_modal"),c.append("ctct_is_dismissed","true"),fetch(e.ajaxurl,options={method:"POST",body:c}).then(function(e){return e.json()}).then(function(e){if(void 0===e.success)return!1;console.log(e.data.message)})}),n.cache.textareaModalClose&&n.cache.textareaModalClose.addEventListener("click",function(e){n.cache.textareaModal.classList.remove("ctct-modal-open")}),n.cache.textareaLink&&n.cache.textareaLink.addEventListener("click",function(){n.cache.textareaModal.classList.add("ctct-modal-open")}),n.cache.deleteLogLink&&n.cache.deleteLogLink.addEventListener("click",function(n){n.preventDefault();var c=n.currentTarget.getAttribute("href");t("#confirmdelete").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{Yes:function(){e.location.replace(c)},Cancel:function(){t("#confirmdelete").closest(".ui-dialog-content").dialog("close")}}})})},n.init()}(window,jQuery,window.CTCTModal)}},t={};function n(c){var o=t[c];if(void 0!==o)return o.exports;var r=t[c]={exports:{}};return e[c](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var c in t)n.o(t,c)&&!n.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(108),n(267),n(679),n(965),n(201),n(526),n(199),n(865)}()}();
//# sourceMappingURL=ctct-plugin-admin.min.js.map