window.CTCTAJAX={},function(t,c,e){e.init=function(){e.handleOptinAJAX(),e.handleReviewAJAX()},e.handleOptinAJAX=function(){c("#ctct_admin_notice_tracking_optin").on("click",function(e){var n={action:"constant_contact_optin_ajax_handler",optin:c(this).is(":checked")?"on":"off"};c.ajax({url:ajaxurl,data:n,dataType:"json",success:function(t){},error:function(c,e,n){t.console&&console.log([e,n])}}),c("#ctct-privacy-modal").toggleClass("ctct-modal-open")}),c("#ctct-connect-ga-optin a").on("click",function(e){var n={action:"constant_contact_optin_ajax_handler",optin:c(this).attr("data-allow")};c.ajax({url:ajaxurl,data:n,dataType:"json",success:function(t){c(".ctct-connected-opt-in").hide()},error:function(c,e,n){t.console&&console.log([e,n])}})}),c("#_ctct_data_tracking").on("click",function(t){c("#ctct-privacy-modal").toggleClass("ctct-modal-open")}),c(".ctct-modal-close").on("click",function(t){c("#_ctct_data_tracking").is(":checked")&&c("#_ctct_data_tracking").attr("checked",!1)}),c("#ctct-modal-footer-privacy a").on("click",function(e){var n={action:"constant_contact_privacy_ajax_handler",privacy_agree:c(this).attr("data-agree")};c.ajax({url:ajaxurl,data:n,dataType:"json",success:function(t){c("#ctct-privacy-modal").toggleClass("ctct-modal-open"),"false"===n.privacy_agree&&c("#_ctct_data_tracking").is(":checked")&&c("#_ctct_data_tracking").attr("checked",!1)},error:function(c,e,n){t.console&&console.log([e,n])}})})},e.handleReviewAJAX=function(){c("#ctct-admin-notice-review_request").on("click","a",function(e){var n="dismissed";c(this).hasClass("ctct-review")&&(n="reviewed");var i={action:"constant_contact_review_ajax_handler","ctct-review-action":n};c.ajax({url:ajaxurl,data:i,dataType:"json",success:function(n){t.console&&console.log(n),e.preventDefault(),c("#ctct-admin-notice-review_request").hide()},error:function(c,e,n){t.console&&console.log([e,n])}})})},c(e.init)}(window,jQuery,window.CTCTAJAX),window.CTCTBuilder={},function(t,c,e){e.init=function(){c("#cmb2-metabox-ctct_2_fields_metabox option[value='email']:selected").length&&c("#ctct-no-email-error").remove(),e.cache(),e.bindEvents(),e.selectBinds(),e.modifyFields(),c("#ctct_0_description_metabox h2.hndle").removeClass("ui-sortable-handle, hndle"),c("head").append('<style> #cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+ctct_texts.move_up+'" } #cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+ctct_texts.move_down+'" }</style>')},e.cache=function(){e.$c={window:c(t),body:c("body")},e.isLeaveWarningBound=!1},e.bindLeaveWarning=function(){e.isLeaveWarningBound||(c(t).bind("beforeunload",function(){return ctct_texts.leavewarning}),e.isLeaveWarningBound=!0)},e.unbindLeaveWarning=function(){c(t).unbind("beforeunload")},e.bindEvents=function(){c("#post").submit(function(){c(".ctct-email-disabled").removeClass("disabled").prop("disabled",!1),e.unbindLeaveWarning()}),c(".cmb2-wrap input, .cmb2-wrap textarea").on("input",function(){"undefined"!=typeof tinyMCE&&e.bindLeaveWarning()}),c(document).on("cmb2_shift_rows_complete",function(){e.modifyFields(),e.bindLeaveWarning(),e.removeDuplicateMappings()}),c(document).on("cmb2_add_row",function(t){c("#custom_fields_group_repeat .postbox").last().find(".map select").val("none"),e.modifyFields(),e.selectBinds(),e.removeDuplicateMappings()}),e.removeDuplicateMappings()},e.selectBinds=function(){c("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select").change(function(){e.modifyFields(),e.removeDuplicateMappings(),e.bindLeaveWarning()})},e.modifyFields=function(){var e=!1;c("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping").each(function(n,i){var o=c(this).find(".cmb-field-list"),a=c(o).find(".cmb-remove-group-row"),l=c(o).find(".required input[type=checkbox]"),s=l.closest(".cmb-row"),d=c(o).find(".map select option:selected"),r=d.text(),u=c(this).find("h3"),_=c(this).find("input[name*='_ctct_field_label']"),p=c(this).find("input[name*='_ctct_field_desc']");if(u.text(r),0===_.val().length?_.val(r).addClass("ctct-label-filled"):_.addClass("ctct-label-filled"),e||"email"!==c(d).val()?(c(i).find("select").removeClass("disabled ctct-email-disabled").prop("disabled",!1),s.show(),a.show()):(e=!0,l.prop("checked",!0),c(i).find("select").addClass("disabled ctct-email-disabled").prop("disabled",!0),s.hide(),a.hide()),t.ctct_admin_placeholders){var m=t.ctct_admin_placeholders[c(i).find("select").val()];m&&m.length&&p.length?p.attr("placeholder","Example: "+m):t.ctct_admin_placeholders["default"]&&p.attr("placeholder",t.ctct_admin_placeholders["default"])}})},e.removeDuplicateMappings=function(){var t=[],e="#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select",n=c(e);n.each(function(e,n){t.push(c(n).val())}),n.children().show(),t.forEach(function(t){"custom_text_area"!=t&&"custom"!=t&&c(e+" option[value="+t+"]:not( :selected )").hide()})},c(e.init)}(window,jQuery,window.CTCTBuilder),window.CTCTForms={},function(t,c,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={window:c(t),body:c("body"),disconnect:".ctct-disconnect"}},e.bindEvents=function(){c(e.$c.disconnect).on("click",function(t){confirm(ctct_texts.disconnectconfirm)})},c(e.init)}(window,jQuery,window.CTCTForms),window.CTCTModal={},function(t,c,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={window:c(t),modalSelector:c(".ctct-modal"),modalClose:c(".ctct-modal-close"),textareaModal:c("#ctct-custom-textarea-modal"),textareaLink:c("#ctct-open-textarea-info")}},e.bindEvents=function(){e.$c.modalClose.click(function(){e.$c.modalSelector.removeClass("ctct-modal-open"),e.$c.modalSelector.hasClass("ctct-custom-textarea-modal")||jQuery.ajax({type:"post",dataType:"json",url:ajaxurl,data:{action:"ctct_dismiss_first_modal",ctct_is_dismissed:"true"}})}),e.$c.textareaLink.on("click",function(){e.$c.textareaModal.addClass("ctct-modal-open")})},c(e.init)}(window,jQuery,window.CTCTModal),window.CTCTNewsletter={},function(t,c,e){e.init=function(){e.submitNewsletter()},c(e.init),e.submitNewsletter=function(){c(".ctct-body #subscribe").on("submit",function(t){t.preventDefault(),console.log("connect");var e=c("#subscribe .ctct-call-to-action"),n=c(".ctct-body #subscribe")[0],i=c(".ctct-call-to-action input[type='text']")[0],o=t.target.action;i.validity.valid===!0?(c("<iframe>",{src:o+"?"+c(n).serialize(),height:0,width:0,style:"display: none;"}).appendTo(e),c("#subbutton").val("Thanks for signing up").css({"background-color":"rgb(1, 128, 0)",color:"rgb(255,255,255)"}),c("#subscribe .ctct-call-to-action-text").css({width:"70%"})):c("#subbutton").val("Error occurred")}),c(".ctct-section #subscribe").on("submit",function(t){t.preventDefault();var e=c(".section-marketing-tips"),n=c(".ctct-section #subscribe")[0],i=c(".ctct-section #subscribe input[type='text']")[0],o=t.target.action;i.validity.valid===!0?(c("<iframe>",{src:o+"?"+c(n).serialize(),height:0,width:0,style:"display: none;"}).appendTo(e),c("#subbutton").val("Thanks for signing up").css({"background-color":"rgb(1, 128, 0)"})):c("#subbutton").val("Error occurred")})}}(window,jQuery,window.CTCTNewsletter),window.CTCT_OptIns={},function(t,c,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={optin_no_conn:c("#cmb2-metabox-ctct_1_optin_metabox #_ctct_opt_in_not_connected"),list:c("#cmb2-metabox-ctct_0_list_metabox #_ctct_list"),title:c("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id-email-optin-title"),optin:c("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in"),instruct:c("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in-instructions")}},e.bindEvents=function(){e.$c.optin_no_conn.length&&(e.toggleNoConnectionFields(),e.$c.optin_no_conn.change(function(){e.toggleNoConnectionFields()})),e.$c.list.length&&(e.toggleConnectionFields(),e.$c.list.change(function(){e.toggleConnectionFields()}))},e.toggleNoConnectionFields=function(){e.$c.optin_no_conn.prop("checked")?e.$c.instruct.slideDown():e.$c.instruct.slideUp()},e.toggleConnectionFields=function(){""!=e.$c.list.val()?(e.$c.title.slideDown(),e.$c.optin.slideDown(),e.$c.instruct.slideDown()):(e.$c.title.slideUp(),e.$c.optin.slideUp(),e.$c.instruct.slideUp())},c(e.init)}(window,jQuery,window.CTCT_OptIns);