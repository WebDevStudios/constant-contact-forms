!function(){var e={23:function(){window.CTCTAJAX={},function(e,t){t.init=function(){t.handleReviewAJAX()},t.handleReviewAJAX=function(){var t=document.querySelector("#ctct-admin-notice-review_request");t&&t.addEventListener("click",(function(n){var c;n.preventDefault(),n.target.matches(".ctct-notice-dismiss")?c="dismissed":n.target.matches(".ctct-review")&&(c="reviewed");var o=new FormData;o.append("action","constant_contact_review_ajax_handler"),o.append("ctct_review_action",c),fetch(e.ajaxurl,options={method:"POST",body:o}).then((function(e){return e.json()})).then((function(e){e.success&&(t.style.display="none")})).catch((function(e){console.log(e)}))}))},t.init()}(window,window.CTCTAJAX)},603:function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var c={}.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,c=Array(t);n<t;n++)c[n]=e[n];return c}window.CTCTBuilder={},function(t,n,c){var o;c.init=function(){if(document.querySelectorAll('#cmb2-metabox-ctct_2_fields_metabox option[value="email"]').length){var e=document.querySelector("#ctct-no-email-error");e&&(e.style.display="none")}c.cache(),c.bindEvents(),c.selectBinds(),c.modifyFields();var n=document.querySelectorAll("#ctct_0_description_metabox h2.hndle");n&&Array.from(n).forEach((function(e){e.classList.remove("ui-sortable-handle","hndle")}));var o=document.querySelector("head"),r=document.createElement("style");r.textContent='#cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+t.ctctTexts.move_up+'" }',r.textContent+='#cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+t.ctctTexts.move_down+'" }',o.appendChild(r)},c.cache=function(){c.cache={window:t,body:document.querySelector("body")},c.isLeaveWarningBound=!1},c.bindLeaveWarning=function(){c.isLeaveWarningBound||(c.cache.window.addEventListener("beforeunload",c.bindMessage),c.isLeaveWarningBound=!0)},c.unbindLeaveWarning=function(){c.cache.window.removeEventListener("beforeunload",c.bindMessage)},c.bindMessage=function(e){e.preventDefault(),e.returnValue=""},c.bindEvents=function(){document.querySelector("#post")&&document.addEventListener("submit",(function(){var e=document.querySelectorAll(".ctct-email-disabled");e&&Array.from(e).forEach((function(e){e.classList.remove("disabled"),e.removeAttribute("disabled")})),c.unbindLeaveWarning()}));var r=document.querySelectorAll(".cmb2-wrap input, .cmb2-wrap textarea");Array.from(r).forEach((function(e){e.addEventListener("input",(function(){"undefined"!=typeof tinyMCE&&c.bindLeaveWarning()}))})),n(document).on("cmb2_shift_rows_complete",(function(){c.modifyFields(),c.bindLeaveWarning(),c.removeDuplicateMappings()})),n(document).on("cmb2_add_row",(function(t){var n=document.querySelectorAll("#custom_fields_group_repeat .postbox");if(n){var o=e(n).pop().querySelector(".map select");o&&(o.value="none")}c.modifyFields(),c.selectBinds(),c.removeDuplicateMappings()})),c.removeDuplicateMappings();var i=document.querySelector("#ctct-reset-css");i&&i.addEventListener("click",(function(e){e.preventDefault(),["#_ctct_form_description_font_size","#_ctct_form_submit_button_font_size","#_ctct_form_label_placement"].forEach((function(e){var t=document.querySelector(e);t&&(t.selectedIndex=0)})),["#_ctct_form_padding_top","#_ctct_form_padding_bottom","#_ctct_form_padding_left","#_ctct_form_padding_right","#_ctct_input_custom_classes"].forEach((function(e){var t=document.querySelector(e);t&&(t.value="")}));var t=document.querySelectorAll(".wp-picker-clear");t&&Array.from(t).forEach((function(e){e.click()}))})),t.addEventListener("load",(function(){var e=document.querySelector("#address_settings");if(e){var t=e.querySelectorAll('.cmb2-id--ctct-address-fields-include input[type="checkbox"]'),n=e.querySelectorAll('.cmb2-id--ctct-address-fields-include input[type="checkbox"]:checked');o=e.querySelectorAll('.cmb2-id--ctct-address-fields-require input[type="checkbox"]'),0===n.length&&Array.from(o).forEach((function(e){e.setAttribute("disabled",!0)})),Array.from(t).forEach((function(e){e.addEventListener("change",c.addressChange)}))}}))},c.addressChange=function(e){var t=e.target;t.checked?Array.from(o).forEach((function(e){t.value===e.value&&e.removeAttribute("disabled")})):Array.from(o).forEach((function(e){t.value===e.value&&(e.checked=!1,e.setAttribute("disabled",!0))}))},c.selectBinds=function(){var e=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select");e&&Array.from(e).forEach((function(e){e.addEventListener("change",(function(){c.modifyFields(),c.removeDuplicateMappings(),c.bindLeaveWarning();var e=document.querySelectorAll(".form-field-is-custom-field");e&&Array.from(e).forEach((function(e){e.addEventListener("keyup",c.noUniqueWarning)}))}))}))},c.validateUniqueFieldLabels=function(){var e,t=document.querySelectorAll(".form-field-is-custom-field");return t&&(e=Array.from(t).map((function(e){return e.value}))),e.length===e.filter((function(t,n){return e.indexOf(t)===n})).length},c.noUniqueWarning=function(t){var n=e(t.currentTarget.parentElement.children);0!==n.length&&(c.validateUniqueFieldLabels()?n.forEach((function(e){e.classList.contains("ctct-warning")&&e.classList.remove("ctct-warning-no-unqiue")})):n.forEach((function(e){e.classList.contains("ctct-warning")&&e.classList.add("ctct-warning-no-unqiue")})))},c.modifyFields=function(){var e=!1,n=1,c=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping");c&&Array.from(c).forEach((function(c,o){var r=c.querySelector(".cmb-field-list"),i=r.querySelector(".cmb-remove-group-row"),a=r.querySelector(".required input[type=checkbox]"),l=a.closest(".cmb-row"),d=r.querySelector(".map select option:checked"),u="";d&&d.text&&(u=d.text);var s=c.querySelector("h3"),f=c.querySelector('input[name*="_ctct_field_label"]'),m=c.querySelector('input[name*="_ctct_field_desc"]');"Custom Text Field"===u&&(u+=" "+n.toString(),n++),s.innerText=u,u&&0===f.value.length&&(f.value=u),f.classList.add("ctct-label-filled");var p=c.querySelector("select");if(e||null===d?(p&&(p.classList.remove("disabled","ctct-email-disabled"),p.disabled=!1),l.style.display="block",i.style.display="block",null!==d&&("custom"===d.value?f.classList.add("form-field-is-custom-field"):f.classList.remove("form-field-is-custom-field"))):"email"===d.value&&(e=!0,a.checked=!0,p&&(p.classList.add("disabled","ctct-email-disabled"),p.disabled=!0),l.style.display="none",i.style.display="none"),t.ctct_admin_placeholders){var h=t.ctct_admin_placeholders[p.value];h&&h.length&&m?m.setAttribute("placeholder","Example: "+h):t.ctct_admin_placeholders.default&&m.setAttribute("placeholder",t.ctct_admin_placeholders.default)}}))},c.removeDuplicateMappings=function(){var e=[],t=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select");Array.from(t).forEach((function(t,n){e.push(t.value),Array.from(t.options).forEach((function(e){e.style.display="inline"}))})),e.forEach((function(e){"custom"!==e&&"custom_text_area"!==e&&Array.from(t).forEach((function(t){Array.from(t.options).forEach((function(t){t.value===e&&!0!==t.selected&&(t.style.display="none")}))}))}))},c.init()}(window,jQuery,window.CTCTBuilder)},90:function(){window.CTCTClipboard={},function(e,t){t.init=function(){t.cache(),t.bindEvents()},t.cache=function(){t.cache={window:e,copyshortcode:document.querySelectorAll(".ctct-shortcode-wrap")}},t.copyClick=function(e,t){if(e&&t){t.select(),t.setSelectionRange(0,99999),document.execCommand("copy");var n=e.innerHTML;e.innerHTML=e.dataset.copied,setTimeout((function(){e.innerHTML=n}),3e3)}},t.bindEvents=function(){t.cache.copyshortcode&&Array.from(t.cache.copyshortcode).forEach((function(e){var n=e.querySelector("input"),c=e.querySelector("button");n&&c&&c.addEventListener("click",(function(e){e.preventDefault(),t.copyClick(this,n)}))}))},t.init()}(window,window.CTCTClipboard)},48:function(){window.CTCTForms={},function(e,t){t.init=function(){t.cache(),t.bindEvents()},t.cache=function(){t.cache={window:e,disconnect:".ctct-disconnect"}},t.bindEvents=function(){var n=document.querySelectorAll(t.cache.disconnect);n&&Array.from(n).forEach((function(t){t.addEventListener("click",(function(){return confirm(e.ctctTexts.disconnectconfirm)}))}))},t.init()}(window,window.CTCTForms)},93:function(){window.CTCTModal={},function(e,t,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.cache={window:e,notConnectedModalSelector:document.querySelector("#ctct-not-connected-modal"),notConnectedModalClose:document.querySelector("#ctct-not-connected-modal .ctct-modal-close"),textareaModal:document.querySelector("#ctct-custom-textarea-modal"),textareaLink:document.querySelector("#ctct-open-textarea-info"),textareaModalClose:document.querySelector("#ctct-custom-textarea-modal .ctct-modal-close"),deleteLogLink:document.querySelector("#deletelog")}},n.bindEvents=function(){n.cache.notConnectedModalClose&&n.cache.notConnectedModalClose.addEventListener("click",(function(t){t.preventDefault(),n.cache.notConnectedModalSelector.classList.remove("ctct-modal-open");var c=new FormData;c.append("action","ctct_dismiss_first_modal"),c.append("ctct_is_dismissed","true"),fetch(e.ajaxurl,options={method:"POST",body:c}).then((function(e){return e.json()})).then((function(e){if(void 0===e.success)return!1;console.log(e.data.message)}))})),n.cache.textareaModalClose&&n.cache.textareaModalClose.addEventListener("click",(function(e){n.cache.textareaModal.classList.remove("ctct-modal-open")})),n.cache.textareaLink&&n.cache.textareaLink.addEventListener("click",(function(){n.cache.textareaModal.classList.add("ctct-modal-open")})),n.cache.deleteLogLink&&n.cache.deleteLogLink.addEventListener("click",(function(n){n.preventDefault();var c=n.currentTarget.getAttribute("href");t("#confirmdelete").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{Yes:function(){e.location.replace(c)},Cancel:function(){t("#confirmdelete").closest(".ui-dialog-content").dialog("close")}}})}))},n.init()}(window,jQuery,window.CTCTModal)},859:function(){var e;window.CTCT_OptIns={},window,(e=window.CTCT_OptIns).init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.cache={optinNoConn:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox #_ctct_opt_in_not_connected"),list:document.querySelectorAll("#cmb2-metabox-ctct_0_list_metabox .attached-posts-wrap .retrieved li"),title:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id-email-optin-title"),optin:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in"),instruct:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in-instructions")}},e.bindEvents=function(){e.cache.optinNoConn.length?(e.toggleNoConnectionFields(),Array.from(e.cache.optinNoConn).forEach((function(t){t.addEventListener("change",(function(){e.toggleNoConnectionFields()}))}))):(e.toggleConnectionFields(),Array.from(e.cache.list).forEach((function(t){t.addEventListener("change",(function(){e.toggleConnectionFields()}))})))},e.toggleNoConnectionFields=function(){e.cache.optinNoConn.checked?Array.from(e.cache.instruct).forEach((function(e){e.style.display="block"})):Array.from(e.cache.instruct).forEach((function(e){e.style.display="none"}))},e.toggleConnectionFields=function(){0<e.cache.list.length?(Array.from(e.cache.title).forEach((function(e){e.style.display="block"})),Array.from(e.cache.optin).forEach((function(e){e.style.display="block"})),Array.from(e.cache.instruct).forEach((function(e){e.style.display="block"}))):(Array.from(e.cache.title).forEach((function(e){e.style.display="none"})),Array.from(e.cache.optin).forEach((function(e){e.style.display="none"})),Array.from(e.cache.instruct).forEach((function(e){e.style.display="none"})))},e.init()}},t={};function n(c){var o=t[c];if(void 0!==o)return o.exports;var r=t[c]={exports:{}};return e[c](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var c in t)n.o(t,c)&&!n.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:t[c]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(23),n(603),n(48),n(93),n(859),n(90)}()}();
//# sourceMappingURL=ctct-plugin-admin.min.js.map