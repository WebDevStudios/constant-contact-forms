window.CTCTAJAX={},function(n,t,e){e.init=function(){e.handleOptinAJAX()},e.handleOptinAJAX=function(){t("#ctct_admin_notice_tracking_optin").on("click",function(e){var i={action:"constant_contact_optin_ajax_handler",optin:t(this).is(":checked")?"on":"off"};t.ajax({url:ajaxurl,data:i,dataType:"json",success:function(n){console.log(n)},error:function(t,e,i){n.console&&console.log([e,i])}})})},t(e.init)}(window,jQuery,window.CTCTAJAX),window.CTCTBuilder={},function(n,t,e){e.init=function(){t("#cmb2-metabox-ctct_2_fields_metabox option[value='email']:selected").length&&t("#ctct-no-email-error").remove(),e.cache(),e.bindEvents(),e.selectBinds(),e.modifyFields(),t("#ctct_0_description_metabox h2.hndle").removeClass("ui-sortable-handle, hndle"),t("head").append('<style> #cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+ctct_texts.move_up+'" } #cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+ctct_texts.move_down+'" }</style>')},e.cache=function(){e.$c={window:t(n),body:t("body")},e.isLeaveWarningBound=!1},e.bindLeaveWarning=function(){e.isLeaveWarningBound||(t(n).bind("beforeunload",function(){return ctct_texts.leavewarning}),e.isLeaveWarningBound=!0)},e.unbindLeaveWarning=function(){t(n).unbind("beforeunload")},e.bindEvents=function(){t("#post").submit(function(){t(".ctct-email-disabled").removeClass("disabled").prop("disabled",!1),e.unbindLeaveWarning()}),t(".cmb2-wrap input, .cmb2-wrap textarea").on("input",function(){e.bindLeaveWarning()}),t(document).on("cmb2_shift_rows_complete",function(){e.modifyFields(),e.bindLeaveWarning(),e.removeDuplicateMappings()}),t(document).on("cmb2_add_row",function(n){t("#custom_fields_group_repeat .postbox").last().find(".map select").val("none"),e.modifyFields(),e.selectBinds(),e.removeDuplicateMappings()}),e.removeDuplicateMappings()},e.selectBinds=function(){t("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select").change(function(){e.modifyFields(),e.removeDuplicateMappings(),e.bindLeaveWarning()})},e.modifyFields=function(){var e=!1;t("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping").each(function(i,c){var o=t(this).find(".cmb-field-list"),a=t(o).find(".cmb-remove-group-row"),d=t(o).find(".required input[type=checkbox]"),l=d.closest(".cmb-row"),s=t(o).find(".map select option:selected"),r=s.text(),u=t(this).find("h3"),m=t(this).find("input[name*='_ctct_field_label']"),_=t(this).find("input[name*='_ctct_field_desc']");if(u.text(r),(0===m.val().length||m.hasClass("ctct-label-filled"))&&m.val(r).addClass("ctct-label-filled"),e||"email"!==t(s).val()?(t(c).find("select").removeClass("disabled ctct-email-disabled").prop("disabled",!1),l.show(),a.show()):(e=!0,d.prop("checked",!0),t(c).find("select").addClass("disabled ctct-email-disabled").prop("disabled",!0),l.hide(),a.hide()),n.ctct_admin_placeholders){var p=n.ctct_admin_placeholders[t(c).find("select").val()];p&&p.length&&_.length?_.attr("placeholder","Example: "+p):n.ctct_admin_placeholders["default"]&&_.attr("placeholder",n.ctct_admin_placeholders["default"])}})},e.removeDuplicateMappings=function(){var n=[],e="#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select",i=t(e);i.each(function(e,i){n.push(t(i).val())}),i.children().show(),n.forEach(function(n){"custom_text_area"!=n&&"custom"!=n&&t(e+" option[value="+n+"]:not( :selected )").hide()})},t(e.init)}(window,jQuery,window.CTCTBuilder),window.CTCTForms={},function(n,t,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={window:t(n),body:t("body"),disconnect:".ctct-disconnect"}},e.bindEvents=function(){t(e.$c.disconnect).on("click",function(n){confirm(ctct_texts.disconnectconfirm)})},t(e.init)}(window,jQuery,window.CTCTForms),window.CTCTModal={},function(n,t,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={window:t(n),modalSelector:t(".ctct-modal"),modalClose:t(".ctct-modal-close")}},e.bindEvents=function(){e.$c.modalClose.click(function(){e.$c.modalSelector.removeClass("ctct-modal-open"),jQuery.ajax({type:"post",dataType:"json",url:ajaxurl,data:{action:"ctct_dismiss_first_modal",ctct_is_dismissed:"true"}})})},t(e.init)}(window,jQuery,window.CTCTModal),window.CTCT_OptIns={},function(n,t,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={optin_no_conn:t("#cmb2-metabox-ctct_1_optin_metabox #_ctct_opt_in_not_connected"),list:t("#cmb2-metabox-ctct_1_optin_metabox #_ctct_list"),optin:t("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in"),instruct:t("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in-instructions")}},e.bindEvents=function(){e.$c.optin_no_conn.length&&(e.toggleNoConnectionFields(),e.$c.optin_no_conn.change(function(){e.toggleNoConnectionFields()})),e.$c.list.length&&(e.toggleConnectionFields(),e.$c.list.change(function(){e.toggleConnectionFields()}))},e.toggleNoConnectionFields=function(){e.$c.optin_no_conn.prop("checked")?e.$c.instruct.slideDown():e.$c.instruct.slideUp()},e.toggleConnectionFields=function(){""!=e.$c.list.val()?(e.$c.optin.slideDown(),e.$c.instruct.slideDown()):(e.$c.optin.slideUp(),e.$c.instruct.slideUp())},t(e.init)}(window,jQuery,window.CTCT_OptIns);