!function(){var t={23:function(){window.CTCTAJAX={},function(t,n,e){var c=this;e.init=function(){e.handleOptinAJAX(),e.handleReviewAJAX()},e.handleOptinAJAX=function(){n("#ctct_admin_notice_tracking_optin").on("click",(function(e){var o={action:"constant_contact_optin_ajax_handler",optin:n(c).is(":checked")?"on":"off",ctct_option_from_notification:n("#ctct_option_from_notification").val()};n.ajax({url:t.ajaxurl,data:o,dataType:"json",success:function(t){n(document.getElementById("ctct-admin-notice-optin_admin_notice")).remove()},error:function(n,e,c){t.console&&console.log([e,c])}}),n("#ctct-privacy-modal").toggleClass("ctct-modal-open")})),n("#ctct-connect-ga-optin a").on("click",(function(e){var o={action:"constant_contact_optin_ajax_handler",optin:n(c).attr("data-allow")};n.ajax({url:t.ajaxurl,data:o,dataType:"json",success:function(t){n(".ctct-connected-opt-in").hide()},error:function(n,e,c){t.console&&console.log([e,c])}})})),n("#_ctct_data_tracking").on("click",(function(t){n("#ctct-privacy-modal").toggleClass("ctct-modal-open")})),n(".ctct-modal-close").on("click",(function(t){var e=n("#_ctct_data_tracking");e.is(":checked")&&e.prop("checked",!1)})),n("#ctct-modal-footer-privacy a").on("click",(function(e){e.preventDefault();var c=new URLSearchParams(e.target.search).get("modal_privacy"),o={action:"constant_contact_privacy_ajax_handler",privacy_agree:n(this).attr("data-agree")};null!==c&&(o.nonce=c),n.ajax({url:t.ajaxurl,data:o,dataType:"json",success:function(t){if("false"===o.privacy_agree){var e=n("#_ctct_data_tracking");e.is(":checked")&&e.prop("checked",!1)}},error:function(n,e,c){t.console&&console.log([e,c])}}),n("#ctct-privacy-modal").toggleClass("ctct-modal-open")}))},e.handleReviewAJAX=function(){n("#ctct-admin-notice-review_request").on("click","a",(function(e){var o="dismissed";n(c).hasClass("ctct-review")&&(o="reviewed");var i={action:"constant_contact_review_ajax_handler","ctct-review-action":o};n.ajax({url:t.ajaxurl,data:i,dataType:"json",success:function(c){t.console&&console.log(c),e.preventDefault(),n("#ctct-admin-notice-review_request").hide()},error:function(n,e,c){t.console&&console.log([e,c])}})}))},n(e.init)}(window,jQuery,window.CTCTAJAX)},603:function(){window.CTCTBuilder={},function(t,n,e){e.init=function(){n('#cmb2-metabox-ctct_2_fields_metabox option[value="email"]:selected').length&&n("#ctct-no-email-error").remove(),e.cache(),e.bindEvents(),e.selectBinds(),e.modifyFields(),n("#ctct_0_description_metabox h2.hndle").removeClass("ui-sortable-handle, hndle"),n("head").append('<style> #cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+t.ctctTexts.move_up+'" } #cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+t.ctctTexts.move_down+'" }</style>')},e.cache=function(){e.$c={window:n(t),body:n("body")},e.isLeaveWarningBound=!1},e.bindLeaveWarning=function(){e.isLeaveWarningBound||(n(t).bind("beforeunload",(function(){return t.ctctTexts.leavewarning})),e.isLeaveWarningBound=!0)},e.unbindLeaveWarning=function(){n(t).unbind("beforeunload")},e.bindEvents=function(){n("#post").submit((function(){n(".ctct-email-disabled").removeClass("disabled").prop("disabled",!1),e.unbindLeaveWarning()})),n(".cmb2-wrap input, .cmb2-wrap textarea").on("input",(function(){"undefined"!=typeof tinyMCE&&e.bindLeaveWarning()})),n(document).on("cmb2_shift_rows_complete",(function(){e.modifyFields(),e.bindLeaveWarning(),e.removeDuplicateMappings()})),n(document).on("cmb2_add_row",(function(t){n("#custom_fields_group_repeat .postbox").last().find(".map select").val("none"),e.modifyFields(),e.selectBinds(),e.removeDuplicateMappings()})),e.removeDuplicateMappings(),n("#ctct-reset-css").on("click",(function(t){t.preventDefault();var e=["#_ctct_form_description_font_size","#_ctct_form_submit_button_font_size","#_ctct_form_label_placement"],c=["#_ctct_form_padding_top","#_ctct_form_padding_bottom","#_ctct_form_padding_left","#_ctct_form_padding_right","#_ctct_input_custom_classes"];n(".wp-picker-clear").each((function(){n(this).click()}));for(var o=e.length;o--;){var i=n(e[o]).children("option").first();n(e[o]).val(i.val())}for(o=c.length;o--;)n(c[o]).val("")}))},e.selectBinds=function(){n("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select").change((function(){e.modifyFields(),e.removeDuplicateMappings(),e.bindLeaveWarning(),n(".form-field-is-custom-field").on("keyup",e.noUniqueWarning)}))},e.validateUniqueFieldLabels=function(){var t=n(".form-field-is-custom-field").map((function(){return n(this).val()})).get();return t.length===t.filter((function(n,e){return t.indexOf(n)===e})).length},e.noUniqueWarning=function(){e.validateUniqueFieldLabels()?n(this).siblings(".ctct-warning").removeClass("ctct-warning-no-unqiue"):n(this).siblings(".ctct-warning").addClass("ctct-warning-no-unqiue")},e.modifyFields=function(){var e=!1,c=1;n("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping").each((function(o,i){var a=n(this).find(".cmb-field-list"),l=n(a).find(".cmb-remove-group-row"),s=n(a).find(".required input[type=checkbox]"),r=s.closest(".cmb-row"),d=n(a).find(".map select option:selected"),u=d.text(),f=n(this).find("h3"),p=n(this).find('input[name*="_ctct_field_label"]'),m=n(this).find('input[name*="_ctct_field_desc"]');if("Custom Text Field"===u&&(u+=" ",u+=c.toString(),c++),f.text(u),0===p.val().length?p.val(u).addClass("ctct-label-filled"):p.addClass("ctct-label-filled"),e||"email"!==n(d).val()?(n(i).find("select").removeClass("disabled ctct-email-disabled").prop("disabled",!1),r.show(),l.show(),n(d).val(),"custom"===n(d).val()?p.addClass("form-field-is-custom-field"):p.removeClass("form-field-is-custom-field")):(e=!0,s.prop("checked",!0),n(i).find("select").addClass("disabled ctct-email-disabled").prop("disabled",!0),r.hide(),l.hide()),t.ctct_admin_placeholders){var _=t.ctct_admin_placeholders[n(i).find("select").val()];_&&_.length&&m.length?m.attr("placeholder","Example: "+_):t.ctct_admin_placeholders.default&&m.attr("placeholder",t.ctct_admin_placeholders.default)}}))},e.removeDuplicateMappings=function(){var t=[],e="#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select",c=n(e);c.each((function(e,c){t.push(n(c).val())})),c.children().show(),t.forEach((function(t){"custom_text_area"!==t&&"custom"!==t&&n(e+" option[value="+t+"]:not( :selected )").hide()}))},n(e.init)}(window,jQuery,window.CTCTBuilder)},90:function(){window.CTCTClipboard={},function(t,n,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={window:n(t),copyshortcode:n(".ctct-shortcode-wrap")}},e.copyClick=function(t,n){if(t&&n){n.select(),n.setSelectionRange(0,99999),document.execCommand("copy");var e=t.innerHTML;t.innerHTML=t.dataset.copied,setTimeout((function(){t.innerHTML=e}),3e3)}},e.bindEvents=function(){e.$c.copyshortcode&&e.$c.copyshortcode.each((function(t,n){var c=n.querySelector("input"),o=n.querySelector("button");c&&o&&o.addEventListener("click",(function(t){t.preventDefault(),e.copyClick(this,c)}))}))},e.init()}(window,jQuery,window.CTCTClipboard)},48:function(){window.CTCTForms={},function(t,n,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={window:n(t),body:n("body"),disconnect:".ctct-disconnect",redirectToConnectionSettings:".connection-settings-redirect"}},e.bindEvents=function(){n(e.$c.disconnect).on("click",(function(n){return confirm(t.ctctTexts.disconnectconfirm)})),n(e.$c.redirectToConnectionSettings).on("click",(function(n){n.preventDefault(),t.open(n.target.href,"_blank"),t.open(t.ctct_settings.account,"_self")}))},n(e.init)}(window,jQuery,window.CTCTForms)},93:function(){window.CTCTModal={},function(t,n,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.$c={window:n(t),modalSelector:n(".ctct-modal"),modalClose:n(".ctct-modal-close"),textareaModal:n("#ctct-custom-textarea-modal"),textareaLink:n("#ctct-open-textarea-info"),deleteLogLink:n("#deletelog")}},e.bindEvents=function(){e.$c.modalClose.on("click",(function(){e.$c.modalSelector.removeClass("ctct-modal-open"),e.$c.modalSelector.hasClass("ctct-custom-textarea-modal")||n.ajax({type:"post",dataType:"json",url:t.ajaxurl,data:{action:"ctct_dismiss_first_modal",ctct_is_dismissed:"true"}})})),e.$c.textareaLink.on("click",(function(){e.$c.textareaModal.addClass("ctct-modal-open")})),e.$c.deleteLogLink.on("click",(function(e){e.preventDefault();var c=n(e.currentTarget).attr("href");n("#confirmdelete").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{Yes:function(){t.location.replace(c)},Cancel:function(){n("#confirmdelete").closest(".ui-dialog-content").dialog("close")}}})}))},n(e.init)}(window,jQuery,window.CTCTModal)},968:function(){var t,n;window.CTCTNewsletter={},window,t=jQuery,(n=window.CTCTNewsletter).init=function(){n.submitNewsletter()},n.submitNewsletter=function(){t(".ctct-body #subscribe").on("submit",(function(n){n.preventDefault();var e=t("#subscribe .ctct-call-to-action"),c=t(".ctct-body #subscribe")[0],o=t('.ctct-call-to-action input[type="text"]')[0],i=n.target.action;!0===o.validity.valid?(t("<iframe>",{src:i+"?"+t(c).serialize(),height:0,width:0,style:"display: none;"}).appendTo(e),t("#subbutton").val("Thanks for signing up").css({"background-color":"rgb(1, 128, 0)",color:"rgb(255,255,255)"}),t("#subscribe .ctct-call-to-action-text").css({width:"70%"})):t("#subbutton").val("Error occurred")})),t(".ctct-section #subscribe").on("submit",(function(n){n.preventDefault();var e=t(".section-marketing-tips"),c=t(".ctct-section #subscribe")[0],o=t('.ctct-section #subscribe input[type="text"]')[0],i=n.target.action;!0===o.validity.valid?(t("<iframe>",{src:i+"?"+t(c).serialize(),height:0,width:0,style:"display: none;"}).appendTo(e),t("#subbutton").val("Thanks for signing up").css({"background-color":"rgb(1, 128, 0)"})):t("#subbutton").val("Error occurred")}))},t(n.init)},859:function(){var t,n;window.CTCT_OptIns={},window,t=jQuery,(n=window.CTCT_OptIns).init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.$c={optinNoConn:t("#cmb2-metabox-ctct_1_optin_metabox #_ctct_opt_in_not_connected"),list:t('#cmb2-metabox-ctct_0_list_metabox [name="_ctct_list[]"]'),title:t("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id-email-optin-title"),optin:t("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in"),instruct:t("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in-instructions")}},n.bindEvents=function(){n.$c.optinNoConn.length&&(n.toggleNoConnectionFields(),n.$c.optinNoConn.change((function(){n.toggleNoConnectionFields()}))),n.$c.list.length&&(n.toggleConnectionFields(),n.$c.list.change((function(){n.toggleConnectionFields()})))},n.toggleNoConnectionFields=function(){n.$c.optinNoConn.prop("checked")?n.$c.instruct.slideDown():n.$c.instruct.slideUp()},n.toggleConnectionFields=function(){""!==n.$c.list.val()?(n.$c.title.slideDown(),n.$c.optin.slideDown(),n.$c.instruct.slideDown()):(n.$c.title.slideUp(),n.$c.optin.slideUp(),n.$c.instruct.slideUp())},t(n.init)}},n={};function e(c){var o=n[c];if(void 0!==o)return o.exports;var i=n[c]={exports:{}};return t[c](i,i.exports,e),i.exports}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var c in n)e.o(n,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:n[c]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},function(){"use strict";e(23),e(603),e(48),e(93),e(968),e(859),e(90)}()}();
//# sourceMappingURL=ctct-plugin-admin.min.js.map