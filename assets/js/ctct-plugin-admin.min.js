/*! For license information please see ctct-plugin-admin.min.js.LICENSE.txt */
!function(){var e={108:function(){window.CTCTAJAX={},function(e,t){t.init=function(){t.handleReviewAJAX()},t.handleReviewAJAX=function(){var t=document.querySelector("#ctct-admin-notice-review_request");t&&t.addEventListener("click",function(n){var o;n.preventDefault(),n.target.matches("button.notice-dismiss")?o="dismissed":n.target.matches(".ctct-review")&&(o="reviewed");var c=new FormData;c.append("action","constant_contact_review_ajax_handler"),c.append("ctct_review_action",o),t.dataset.nonce&&c.append("ctct_nonce",t.dataset.nonce),fetch(e.ajaxurl,options={method:"POST",body:c}).then(function(e){return e.json()}).then(function(e){e.success&&(t.style.display="none")}).catch(function(e){console.log(e)})})},t.init()}(window,window.CTCTAJAX)},199:function(){var e;window.CTCTRequiredLists={},window,jQuery,(e=window.CTCTRequiredLists).init=function(){e.cache(),e.bindEvents()},e.cache=function(){var t;e.cache={publishButton:null!==(t=document.querySelector("#publish"))&&void 0!==t?t:"",status:ctct_admin_required_lists,noListMessage:ctctTexts.no_selected_list}},e.bindEvents=function(){e.cache.publishButton&&e.cache.publishButton.addEventListener("click",function(t){e.maybeAlert()&&(t.preventDefault(),alert(e.cache.noListMessage))})},e.maybeAlert=function(){var t=!1;return e.cache.status.is_connected?((e.currentFormEmailDisabled()||e.cache.status.settings_email_disabled)&&(console.log(e.currentFormEmailDisabled()),!1===e.hasLists()&&(t=!0)),!0===e.hasLists()&&(t=!1),t):t},e.currentFormEmailDisabled=function(){return document.querySelector("#_ctct_disable_emails_for_form").checked},e.hasLists=function(){return document.querySelectorAll("#cmb2-metabox-ctct_0_list_metabox .attached-posts-wrap .attached li").length>0},e.init()},201:function(){var e;window.CTCT_OptIns={},window,(e=window.CTCT_OptIns).init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.cache={optinNoConn:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox #_ctct_opt_in_not_connected"),list:document.querySelectorAll("#cmb2-metabox-ctct_0_list_metabox .attached-posts-wrap .retrieved li"),title:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id-email-optin-title"),optin:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in"),instruct:document.querySelectorAll("#cmb2-metabox-ctct_1_optin_metabox .cmb2-id--ctct-opt-in-instructions")}},e.bindEvents=function(){e.cache.optinNoConn.length?(e.toggleNoConnectionFields(),Array.from(e.cache.optinNoConn).forEach(function(t){t.addEventListener("change",function(){e.toggleNoConnectionFields()})})):(e.toggleConnectionFields(),Array.from(e.cache.list).forEach(function(t){t.addEventListener("change",function(){e.toggleConnectionFields()})}))},e.toggleNoConnectionFields=function(){e.cache.optinNoConn.checked?Array.from(e.cache.instruct).forEach(function(e){e.style.display="block"}):Array.from(e.cache.instruct).forEach(function(e){e.style.display="none"})},e.toggleConnectionFields=function(){0<e.cache.list.length?(Array.from(e.cache.title).forEach(function(e){e.style.display="block"}),Array.from(e.cache.optin).forEach(function(e){e.style.display="block"}),Array.from(e.cache.instruct).forEach(function(e){e.style.display="block"})):(Array.from(e.cache.title).forEach(function(e){e.style.display="none"}),Array.from(e.cache.optin).forEach(function(e){e.style.display="none"}),Array.from(e.cache.instruct).forEach(function(e){e.style.display="none"}))},e.init()},267:function(){function e(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}window.CTCTBuilder={},function(t,n,o){var c;o.init=function(){var e=document.querySelectorAll('#cmb2-metabox-ctct_2_fields_metabox option[value="email"]');if(Array.from(e).filter(function(e){return e.selected}).length){var n=document.querySelector("#ctct-no-email-error");n&&(n.style.display="none")}o.cache(),o.bindEvents(),o.selectBinds(),o.modifyFields();var c=document.querySelectorAll("#ctct_0_description_metabox h2.hndle");c&&Array.from(c).forEach(function(e){e.classList.remove("ui-sortable-handle","hndle")});var r=document.querySelector("head"),i=document.createElement("style");i.textContent='#cmb2-metabox-ctct_2_fields_metabox a.move-up::after { content: "'+t.ctctTexts.move_up+'" }',i.textContent+='#cmb2-metabox-ctct_2_fields_metabox a.move-down::after { content: "'+t.ctctTexts.move_down+'" }',r.appendChild(i)},o.cache=function(){o.cache={window:t,body:document.querySelector("body")},o.isLeaveWarningBound=!1},o.bindLeaveWarning=function(){o.isLeaveWarningBound||(o.cache.window.addEventListener("beforeunload",o.bindMessage),o.isLeaveWarningBound=!0)},o.unbindLeaveWarning=function(){o.cache.window.removeEventListener("beforeunload",o.bindMessage)},o.bindMessage=function(e){e.preventDefault(),e.returnValue=""},o.bindEvents=function(){document.querySelector("#post")&&document.addEventListener("submit",function(){var e=document.querySelectorAll(".ctct-email-disabled");e&&Array.from(e).forEach(function(e){e.classList.remove("disabled"),e.removeAttribute("disabled")}),o.unbindLeaveWarning()});var r=document.querySelectorAll(".cmb2-wrap input, .cmb2-wrap textarea");Array.from(r).forEach(function(e){e.addEventListener("input",function(){"undefined"!=typeof tinyMCE&&o.bindLeaveWarning()})}),n(document).on("cmb2_shift_rows_complete",function(){o.modifyFields(),o.bindLeaveWarning(),o.removeDuplicateMappings()}),n(document).on("cmb2_add_row",function(t){var n=document.querySelectorAll("#custom_fields_group_repeat .postbox");if(n){var c=e(n).pop().querySelector(".map select");c&&(c.value="none")}o.modifyFields(),o.selectBinds(),o.removeDuplicateMappings()}),o.removeDuplicateMappings();var i=document.querySelector("#ctct-reset-css");i&&i.addEventListener("click",function(e){e.preventDefault(),["#_ctct_form_description_font_size","#_ctct_form_submit_button_font_size","#_ctct_form_label_placement"].forEach(function(e){var t=document.querySelector(e);t&&(t.selectedIndex=0)}),["#_ctct_form_padding_top","#_ctct_form_padding_bottom","#_ctct_form_padding_left","#_ctct_form_padding_right","#_ctct_input_custom_classes"].forEach(function(e){var t=document.querySelector(e);t&&(t.value="")});var t=document.querySelectorAll(".wp-picker-clear");t&&Array.from(t).forEach(function(e){e.click()})}),t.addEventListener("load",function(){var e=document.querySelector("#address_settings");if(e){var t=e.querySelectorAll('.cmb2-id--ctct-address-fields-include input[type="checkbox"]'),n=e.querySelectorAll('.cmb2-id--ctct-address-fields-include input[type="checkbox"]:checked');c=e.querySelectorAll('.cmb2-id--ctct-address-fields-require input[type="checkbox"]'),0===n.length&&Array.from(c).forEach(function(e){e.setAttribute("disabled",!0)}),Array.from(t).forEach(function(e){e.addEventListener("change",o.addressChange)})}})},o.addressChange=function(e){var t=e.target;t.checked?Array.from(c).forEach(function(e){t.value===e.value&&e.removeAttribute("disabled")}):Array.from(c).forEach(function(e){t.value===e.value&&(e.checked=!1,e.setAttribute("disabled",!0))})},o.selectBinds=function(){var e=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox .cmb2_select");e&&Array.from(e).forEach(function(e){e.addEventListener("change",function(){o.modifyFields(),o.removeDuplicateMappings(),o.bindLeaveWarning();var e=document.querySelectorAll(".form-field-is-custom-field");e&&Array.from(e).forEach(function(e){e.addEventListener("keyup",o.noUniqueWarning)})})})},o.validateUniqueFieldLabels=function(){var e,t=document.querySelectorAll(".form-field-is-custom-field");return t&&(e=Array.from(t).map(function(e){return e.value})),e.length===e.filter(function(t,n){return e.indexOf(t)===n}).length},o.noUniqueWarning=function(t){var n=e(t.currentTarget.parentElement.children);0!==n.length&&(o.validateUniqueFieldLabels()?n.forEach(function(e){e.classList.contains("ctct-warning")&&e.classList.remove("ctct-warning-no-unqiue")}):n.forEach(function(e){e.classList.contains("ctct-warning")&&e.classList.add("ctct-warning-no-unqiue")}))},o.modifyFields=function(){var e=!1,t=1,n=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping");n&&Array.from(n).forEach(function(n,o){var c=n.querySelector(".cmb-field-list"),r=c.querySelector(".cmb-remove-group-row"),i=c.querySelector(".required input[type=checkbox]"),a=i.closest(".cmb-row"),l=c.querySelector(".map select option:checked"),u="";l&&l.text&&(u=l.text);var d=n.querySelector("h3"),s=n.querySelector('input[name*="_ctct_field_label"]'),f=n.querySelector('input[name*="_ctct_field_desc"]');"Custom Text Field"===u&&(u+=" "+t.toString(),t++),d.innerText=u,u&&0===s.value.length&&(s.value=u),s.classList.add("ctct-label-filled");var m=n.querySelector("select");if(e||null===l?(m&&(m.classList.remove("disabled","ctct-email-disabled"),m.disabled=!1),a.style.display="block",r.style.display="block",null!==l&&("custom"===l.value?s.classList.add("form-field-is-custom-field"):s.classList.remove("form-field-is-custom-field"))):"email"===l.value&&(e=!0,i.checked=!0,m&&(m.classList.add("disabled","ctct-email-disabled"),m.disabled=!0),a.style.display="none",r.style.display="none"),ctct_admin_placeholders){var p=ctct_admin_placeholders[m.value];p&&p.length&&f?f.setAttribute("placeholder","Example: "+p):ctct_admin_placeholders.default&&f.setAttribute("placeholder",ctct_admin_placeholders.default)}})},o.removeDuplicateMappings=function(){var e=[],t=document.querySelectorAll("#cmb2-metabox-ctct_2_fields_metabox #custom_fields_group_repeat .cmb-repeatable-grouping select");Array.from(t).forEach(function(t,n){e.push(t.value),Array.from(t.options).forEach(function(e){e.style.display="inline"})}),e.forEach(function(e){"custom"!==e&&"custom_text_area"!==e&&Array.from(t).forEach(function(t){Array.from(t.options).forEach(function(t){t.value===e&&!0!==t.selected&&(t.style.display="none")})})})},o.init()}(window,jQuery,window.CTCTBuilder)},526:function(){function e(){var n,o,c="function"==typeof Symbol?Symbol:{},r=c.iterator||"@@iterator",i=c.toStringTag||"@@toStringTag";function a(e,c,r,i){var a=c&&c.prototype instanceof u?c:u,d=Object.create(a.prototype);return t(d,"_invoke",function(e,t,c){var r,i,a,u=0,d=c||[],s=!1,f={p:0,n:0,v:n,a:m,f:m.bind(n,4),d:function(e,t){return r=e,i=0,a=n,f.n=t,l}};function m(e,t){for(i=e,a=t,o=0;!s&&u&&!c&&o<d.length;o++){var c,r=d[o],m=f.p,p=r[2];e>3?(c=p===t)&&(a=r[(i=r[4])?5:(i=3,3)],r[4]=r[5]=n):r[0]<=m&&((c=e<2&&m<r[1])?(i=0,f.v=t,f.n=r[1]):m<p&&(c=e<3||r[0]>t||t>p)&&(r[4]=e,r[5]=t,f.n=p,i=0))}if(c||e>1)return l;throw s=!0,t}return function(c,d,p){if(u>1)throw TypeError("Generator is already running");for(s&&1===d&&m(d,p),i=d,a=p;(o=i<2?n:a)||!s;){r||(i?i<3?(i>1&&(f.n=-1),m(i,a)):f.n=a:f.v=a);try{if(u=2,r){if(i||(c="next"),o=r[c]){if(!(o=o.call(r,a)))throw TypeError("iterator result is not an object");if(!o.done)return o;a=o.value,i<2&&(i=0)}else 1===i&&(o=r.return)&&o.call(r),i<2&&(a=TypeError("The iterator does not provide a '"+c+"' method"),i=1);r=n}else if((o=(s=f.n<0)?a:e.call(t,f))!==l)break}catch(e){r=n,i=1,a=e}finally{u=1}}return{value:o,done:s}}}(e,r,i),!0),d}var l={};function u(){}function d(){}function s(){}o=Object.getPrototypeOf;var f=[][r]?o(o([][r]())):(t(o={},r,function(){return this}),o),m=s.prototype=u.prototype=Object.create(f);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,t(e,i,"GeneratorFunction")),e.prototype=Object.create(m),e}return d.prototype=s,t(m,"constructor",s),t(s,"constructor",d),d.displayName="GeneratorFunction",t(s,i,"GeneratorFunction"),t(m),t(m,i,"Generator"),t(m,r,function(){return this}),t(m,"toString",function(){return"[object Generator]"}),(e=function(){return{w:a,m:p}})()}function t(e,n,o,c){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}t=function(e,n,o,c){if(n)r?r(e,n,{value:o,enumerable:!c,configurable:!c,writable:!c}):e[n]=o;else{var i=function(n,o){t(e,n,function(e){return this._invoke(n,o,e)})};i("next",0),i("throw",1),i("return",2)}},t(e,n,o,c)}function n(e,t,n,o,c,r,i){try{var a=e[r](i),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(o,c)}window.CTCTClipboard={},function(t,o){o.init=function(){o.cache(),o.bindEvents()},o.cache=function(){o.cache={window:t,copyshortcode:document.querySelectorAll(".ctct-shortcode-wrap")}},o.bindEvents=function(){o.cache.copyshortcode&&Array.from(o.cache.copyshortcode).forEach(function(o){var c=o.querySelector("input"),r=o.querySelector("button");c&&r&&r.addEventListener("click",function(){var o,i=(o=e().m(function n(o){var i,a,l;return e().w(function(e){for(;;)switch(e.n){case 0:if(t.isSecureContext&&navigator.clipboard){e.n=1;break}return e.a(2);case 1:return o.preventDefault(),c.select(),c.setSelectionRange(0,99999),i=c.value,e.p=2,e.n=3,navigator.clipboard.writeText(i);case 3:a=r.innerHTML,o.target.textContent=r.dataset.copied,setTimeout(function(){o.target.textContent=a},700),e.n=5;break;case 4:e.p=4,l=e.v,console.error("Failed to copy!",l);case 5:return e.a(2)}},n,null,[[2,4]])}),function(){var e=this,t=arguments;return new Promise(function(c,r){var i=o.apply(e,t);function a(e){n(i,c,r,a,l,"next",e)}function l(e){n(i,c,r,a,l,"throw",e)}a(void 0)})});return function(e){return i.apply(this,arguments)}}())})},o.init()}(window,window.CTCTClipboard)},679:function(){window.CTCTForms={},function(e,t){t.init=function(){t.cache(),t.bindEvents()},t.cache=function(){t.cache={window:e,disconnect:".ctct-disconnect"}},t.bindEvents=function(){var n=document.querySelectorAll(t.cache.disconnect);n&&Array.from(n).forEach(function(t){t.addEventListener("click",function(){return confirm(e.ctctTexts.disconnectconfirm)})})},t.init()}(window,window.CTCTForms)},965:function(){window.CTCTModal={},function(e,t,n){n.init=function(){n.cache(),n.bindEvents()},n.cache=function(){n.cache={window:e,notConnectedModalSelector:document.querySelector("#ctct-not-connected-modal"),notConnectedModalClose:document.querySelector("#ctct-not-connected-modal .ctct-modal-close"),textareaModal:document.querySelector("#ctct-custom-textarea-modal"),textareaLink:document.querySelector("#ctct-open-textarea-info"),textareaModalClose:document.querySelector("#ctct-custom-textarea-modal .ctct-modal-close"),deleteLogLink:document.querySelector("#deletelog")}},n.bindEvents=function(){n.cache.notConnectedModalClose&&n.cache.notConnectedModalClose.addEventListener("click",function(t){t.preventDefault(),n.cache.notConnectedModalSelector.classList.remove("ctct-modal-open");var o=new FormData;o.append("action","ctct_dismiss_first_modal"),o.append("ctct_is_dismissed","true"),fetch(e.ajaxurl,options={method:"POST",body:o}).then(function(e){return e.json()}).then(function(e){if(void 0===e.success)return!1;console.log(e.data.message)})}),n.cache.textareaModalClose&&n.cache.textareaModalClose.addEventListener("click",function(e){n.cache.textareaModal.classList.remove("ctct-modal-open")}),n.cache.textareaLink&&n.cache.textareaLink.addEventListener("click",function(){n.cache.textareaModal.classList.add("ctct-modal-open")}),n.cache.deleteLogLink&&n.cache.deleteLogLink.addEventListener("click",function(n){n.preventDefault();var o=n.currentTarget.getAttribute("href");t("#confirmdelete").dialog({resizable:!1,height:"auto",width:400,modal:!0,buttons:{Yes:function(){e.location.replace(o)},Cancel:function(){t("#confirmdelete").closest(".ui-dialog-content").dialog("close")}}})})},n.init()}(window,jQuery,window.CTCTModal)}},t={};function n(o){var c=t[o];if(void 0!==c)return c.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(108),n(267),n(679),n(965),n(201),n(526),n(199)}()}();
//# sourceMappingURL=ctct-plugin-admin.min.js.map