!function(){var t={460:function(){window.addEventListener("load",(function(){var t=document.querySelectorAll(".ctct-submitted");t&&t.forEach((function(t,e){t.addEventListener("click",(function(e){setTimeout((function(){!function(t){t.setAttribute("disabled","disabled")}(t),setTimeout((function(){!function(t){t.setAttribute("disabled",!1)}(t)}),3e3)}),100)}))}))}))},313:function(){window.CTCTSupport={},function(t,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.cache={forms:[]};var t=document.querySelectorAll(".ctct-form-wrapper");t.length&&t.forEach((function(t,r){e.cache.forms.push(t.querySelector("form"))})),e.cache.forms.forEach((function(t,r){e.cache.forms[r].honeypot=t.querySelector(".ctct_usage_field"),e.cache.forms[r].submitButton=t.querySelector("input[type=submit]"),e.cache.forms[r].recaptcha=t.querySelector(".g-recaptcha")})),e.timeout=null},e.setAllInputsValid=function(){var t=document.querySelectorAll(e.cache.$form+" .ctct-invalid");Array.from(t).forEach((function(t){t.classList.remove("ctct-invalid")}))},e.processError=function(t){if(void 0!==t.id){var e=document.querySelectorAll("#"+t.id);Array.from(e).forEach((function(t){t.classList.add("ctct-invalid")}))}},e.checkHoneypot=function(t,e,r){0<e.val().length?r.setAttribute("disabled","disabled"):r.setAttribute("disabled",!1)},e.validateSubmission=function(t){return"on"===t.getAttribute("data-doajax")&&(Array.from(t).forEach((function(t){var e=t.querySelectorAll("[required]");Array.from(e).forEach((function(t){if(!1===t.checkValidity())return!1}))})),!0)},e.showMessage=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t.parentElement;n.querySelector("p.ctct-message")&&n.querySelector("p.ctct-message").remove();var c=document.createElement("p");c.setAttribute("class","ctct-message "+r),c.setAttribute("role","role"),c.innerHTML=e;var o=document.createElement("button");o.setAttribute("class","button button-secondary ctct-dismiss ctct-dismiss-ajax-notice"),o.setAttribute("aria-label","Dismiss notification"),o.innerHTML="&#10005;",c.prepend(o),t.parentElement.prepend(c),n.querySelector(".ctct-dismiss-ajax-notice").addEventListener("click",(function(t){this.parentElement.querySelector(".ctct-message").remove()}))},e.submitForm=function(r){var n=r.querySelector(".ctct-submitted");n.setAttribute("disabled",!0);var c=new FormData,o=new FormData(r),i=new URLSearchParams(o);c.append("action","ctct_process_form"),c.append("data",i);var s={method:"POST",body:c};fetch(t.ajaxurl,s).then((function(t){return t.json()})).then((function(t){return n.setAttribute("disabled",!1),void 0!==t.status&&("success"!==t.status?(void 0!==t.errors?(e.setAllInputsValid(),t.errors.forEach(e.processError)):e.showMessage(r,t.message,"ctct-error","alert"),!1):(r.style.display="none",e.showMessage(r,t.message,"ctct-success","status"),void r.reset()))}))},e.handleSubmission=function(t,r){if(!e.validateSubmission(r))return!1;clearTimeout(e.timeout),r.checkValidity()&&(t.preventDefault(),e.timeout=setTimeout(e.submitForm,500,r))},e.bindEvents=function(){e.cache.forms.forEach((function(t,r){t.querySelector("[type=submit]").addEventListener("click",(function(r){e.handleSubmission(r,t)})),t.honeypot.addEventListener("change keyup",(function(r){e.checkHoneypot(r,t.honeypot,submit.submitButton)})),t.recaptcha&&0<t.recaptcha.length&&t.submitButton.setAttribute("disabled","disabled")}))},e.init()}(window,window.CTCTSupport)}},e={};function r(n){var c=e[n];if(void 0!==c)return c.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";r(460),r(313)}()}();
//# sourceMappingURL=ctct-plugin-frontend.min.js.map