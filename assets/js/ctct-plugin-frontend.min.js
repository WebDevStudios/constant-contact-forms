!function(){var t={313:function(){window.CTCTSupport={},function(t,e){e.init=function(){e.cache(),e.bindEvents()},e.cache=function(){e.cache={forms:[]};var t=document.querySelectorAll(".ctct-form-wrapper");t.length&&t.forEach((function(t){var n=t.querySelector("form");n&&e.cache.forms.push(n)})),e.cache.forms.forEach((function(t,n){e.cache.forms[n].honeypot=t.querySelector(".ctct_usage_field"),e.cache.forms[n].submitButton=t.querySelector("input[type=submit]"),e.cache.forms[n].recaptcha=t.querySelector(".g-recaptcha")})),e.timeout=null},e.setAllInputsValid=function(){e.cache.forms.forEach((function(t){var e=t.querySelectorAll(".ctct-invalid");Array.from(e).forEach((function(t){t.classList.remove("ctct-invalid")}))}))},e.processError=function(t){if(void 0!==t.id){var e=document.querySelectorAll("#"+t.id);Array.from(e).forEach((function(t){t.classList.add("ctct-invalid")}))}},e.checkHoneypot=function(t,e,n){0<e.value.length?n.setAttribute("disabled","disabled"):n.removeAttribute("disabled")},e.validateSubmission=function(t){if("on"!==t.getAttribute("data-doajax"))return!1;var e=t.querySelectorAll("[required]");return Array.from(e).forEach((function(t){if(!1===t.checkValidity())return!1})),!0},e.showMessage=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"log",o=t.parentElement;o.querySelector("p.ctct-message")&&o.querySelector("p.ctct-message").remove();var c=document.createElement("p");c.setAttribute("class","ctct-message "+n),c.setAttribute("role",r),c.innerHTML=e;var i=document.createElement("button");i.setAttribute("class","button button-secondary ctct-dismiss ctct-dismiss-ajax-notice"),i.setAttribute("aria-label","Dismiss notification"),i.innerHTML="&#10005;",c.prepend(i),t.parentElement.prepend(c),o.querySelector(".ctct-dismiss-ajax-notice").addEventListener("click",(function(){this.parentElement.remove()}))},e.submitForm=function(n){var r=new FormData,o=new FormData(n),c=new URLSearchParams(o);r.append("action","ctct_process_form"),r.append("data",c);var i={method:"POST",body:r};fetch(t.ajaxurl,i).then((function(t){return t.json()})).then((function(t){return void 0!==t.status&&("success"!==t.status?(void 0!==t.errors?(e.setAllInputsValid(),t.errors.forEach(e.processError)):e.showMessage(n,t.message,"ctct-error","alert"),!1):(n.style.display="none",e.showMessage(n,t.message,"ctct-success","status"),void n.reset()))}))},e.handleSubmission=function(t,n){if(!e.validateSubmission(n))return!1;clearTimeout(e.timeout),n.checkValidity()&&(e.timeout=setTimeout(e.submitForm,500,n))},e.bindEvents=function(){e.cache.forms.forEach((function(t){t.querySelector("[type=submit]").addEventListener("click",(function(n){var r=t.getAttribute("data-doajax");r&&"on"===r&&n.preventDefault(),t.classList.contains("ctct-submitted")||(t.classList.add("ctct-submitted"),e.handleSubmission(n,t),t.classList.remove("ctct-submitted"))})),t.honeypot.addEventListener("change",(function(n){e.checkHoneypot(n,t.honeypot,t.submitButton)})),t.honeypot.addEventListener("keyup",(function(n){e.checkHoneypot(n,t.honeypot,t.submitButton)}))}))},e.init()}(window,window.CTCTSupport)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var c=e[r]={exports:{}};return t[r](c,c.exports,n),c.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";n(313)}()}();
//# sourceMappingURL=ctct-plugin-frontend.min.js.map